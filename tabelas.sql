-- Tabela base (classe abstrata)
CREATE TABLE AGENDAMENTOS (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    PACIENTE VARCHAR2(100) NOT NULL,
    MEDICO VARCHAR2(100) NOT NULL,
    DATA_HORA TIMESTAMP NOT NULL,
    NOME_CONSULTA VARCHAR2(100),
    NOME_PROFISSIONAL VARCHAR2(100),
    TIPO VARCHAR2(20) NOT NULL  -- 'ONLINE' ou 'PRESENCIAL'
);

-- Tabela filha: Agendamento Presencial
CREATE TABLE AGENDAMENTO_PRESENCIAL (
    ID NUMBER PRIMARY KEY,
    ENDERECO VARCHAR2(255) NOT NULL,
    CONSTRAINT FK_PRESENCIAL_AGEND FOREIGN KEY (ID)
        REFERENCES AGENDAMENTOS(ID)
        ON DELETE CASCADE
);

-- Tabela filha: Agendamento Online
CREATE TABLE AGENDAMENTO_ONLINE (
    ID NUMBER PRIMARY KEY,
    LINK VARCHAR2(255) NOT NULL,
    CONSTRAINT FK_ONLINE_AGEND FOREIGN KEY (ID)
        REFERENCES AGENDAMENTOS(ID)
        ON DELETE CASCADE
);

CREATE TABLE EXAME (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    RESULTADO_EXAME VARCHAR2(255),
    TIPO VARCHAR2(100) NOT NULL,
    DIA_HORA TIMESTAMP NOT NULL
);
